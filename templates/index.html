<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>AppPy</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://rawgit.com/adrotec/knockout-file-bindings/master/knockout-file-bindings.css'>
  <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>

<div class="container">
  <h1>
    <h3>Upload Image</h3>
  </h1>
 <div class="well" data-bind="fileDrag: fileData">
    <form action="/upload" method="post" enctype="multipart/form-data">
      <div class="form-group row">
        <div class="col-md-6">
            <img style="height: 125px;" class="img-rounded  thumb" data-bind="attr: { src: fileData().dataURL }, visible: fileData().dataURL">
            <div data-bind="ifnot: fileData().dataURL">
                <label class="drag-label">Drag file here</label>
            </div>
        </div>
        <div class="col-md-6">
            <input type="file" name="image" id="fileUpload" onchange="return fileValidation()" data-bind="fileInput: fileData, customFileInput: {
              buttonClass: 'btn btn-success',
              fileNameClass: 'disabled form-control',
              onClear: onClear,
            }" accept="image/*">
        </div>
		<div>
		</div>
      </div>
		
      <div data-bind="if: fileData().dataURL">
           <input type="submit" value="Process your image" class="btn btn-primary">
	  </div>
    </form>
 </div>
 <!--
 {% if displayFlag == True %}
     <img class="image" src="{{ url_for('static', filename=uploadedfile)}}">
 {% endif %}
 -->
</div>


{% if displayFlag == True %}
    <div class="container" style="border: 10px solid #ccc; text-align: center; max-width: 850px;">
      <img style="max-width: 750px;" src="{{ url_for('static', filename=uploadedfile)}}">
    </div>
{% endif %}


<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js'></script>
<script src='https://rawgit.com/adrotec/knockout-file-bindings/master/knockout-file-bindings.js'></script>

<script src="static/js/index.js"></script>

</body>

</html>
